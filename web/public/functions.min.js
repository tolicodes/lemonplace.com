$(function(){function e(){var e=0,t=0,o=20,r=$("#portfolioItems").width()/2+o/2;$("#portfolioItems li.showing").each(function(){$this=$(this),$(window).width()>=720?t>=e?($this.css({top:e,left:0}),e+=$this.height()+o):($this.css({top:t,left:r}),t+=$this.height()+o):($this.css({top:e,left:0}),e+=$this.height()+o/2)}),$("#portfolioItems").css(e>=t?{height:e}:{height:t})}function t(){$(".triggerSearch").addClass("searching"),$(".searcher").fadeIn(100,function(){$(".searcher").addClass("searching"),$(".searcher input").focus()})}function o(){r(),$(".searcher, .triggerSearch").removeClass("searching"),$(".searcher").fadeOut(300)}function r(){$("#portfolioItems li").addClass("showing");var t=[],o=$(".searcher input").val().toLowerCase();$(".searcher .tags a").each(function(){$this=$(this),$this.hasClass("active")&&t.push($this.html().toLowerCase())}),o&&$("#portfolioItems li.showing").each(function(){$this=$(this);var e=$this.attr("data-title").toLowerCase(),t=$this.attr("data-description").toLowerCase();-1==t.indexOf(o)&&-1==e.indexOf(o)&&$this.removeClass("showing")});for(var r=0;r<t.length;r++)$("#portfolioItems li.showing").each(function(){$this=$(this);var e=$this.attr("data-categories").toLowerCase();-1==e.indexOf(t[r])&&$this.removeClass("showing")});e()}function a(e){var t,o=$(".currentProject").attr("data-title"),r=$(".currentProject").attr("data-description"),a=$(".currentProject").attr("data-url"),s=$(".currentProject").attr("data-id");if(e){$.ajax({type:"POST",url:"ajax.php",data:{ajax_type:"projectImages",projectID:s},dataType:"json",success:function(e){console.log(e),t=e.images},error:function(e){console.log(e.responseText)}}),$(".project .descriptionHeight h1").html(o),$(".project .descriptionHeight a").attr("href","http://"+a).html(a),$(".project .descriptionHeight p").html(r),$(".project .descriptionHeight").show();var n=$(".project .descriptionHeight").outerHeight();$(".project .descriptionHeight").hide(),$(".project .description h1, .project .description a, .project .description p").animate({opacity:0},200,function(){$(".project .description h1").html(o),$(".project .description a").attr("href","http://"+a).html(a),$(".project .description p").html(r),$(".project .description").animate({height:n},200),$(".project .description h1, .project .description a, .project .description p").animate({opacity:1},200)}),$(".projectImages").removeClass("showing"),setTimeout(function(){for($(".project .projectImages ul").html(""),i=0;i<t.length;i++){var e=t[i].image,r=t[i].caption;$(".project .projectImages ul").append(r?'<li> <img src="images/portfolio/'+e+'" alt="'+o+'" /> <p>'+r+"</p> </li>":'<li> <img src="images/portfolio/'+e+'" alt="'+o+'" /> </li>')}$(".projectImages").addClass("showing")},400)}else $(".project .projectImages ul").html(""),$(".project .description h1").html(o),$(".project .description a").attr("href","http://"+a).html(a),$(".project .description p").html(r),$(".project .description").css("height","auto"),$.ajax({type:"POST",url:"ajax.php",data:{ajax_type:"projectImages",projectID:s},dataType:"json",success:function(e){for(console.log(e),t=e.images,i=0;i<t.length;i++){var r=t[i].image,a=t[i].caption;$(".project .projectImages ul").append(a?'<li> <img src="images/portfolio/'+r+'" alt="'+o+'" /> <p>'+a+"</p> </li>":'<li> <img src="images/portfolio/'+r+'" alt="'+o+'" /> </li>')}$(".projectImages").addClass("showing")},error:function(e){console.log(e.responseText)}})}function s(){$("#portfolioItems li").removeClass("currentProject"),$(".projectTint").fadeOut(400),$("body").removeClass("noScroll"),$(".projectWrapper").removeClass("showing"),$(".project .description h1, .project .description a, .project .description p").animate({opacity:0},500),$(".projectImages").removeClass("showing"),e()}function n(){$(".project .description h1, .project .description a, .project .description p").css({opacity:0}),a(!1),$(".projectTint").fadeIn(400),$("body").addClass("noScroll"),$(".project .description h1, .project .description a, .project .description p").delay(200).animate({opacity:1},300),$(".projectWrapper").addClass("showing"),e()}function c(){$("#portfolioItems li.currentProject").is($("li.showing:last"))?$("#portfolioItems li.showing:first").addClass("currentProject").siblings().removeClass("currentProject"):$("#portfolioItems li.currentProject").removeClass("currentProject").nextAll(".showing").eq(0).addClass("currentProject"),a(!0)}function p(){$("#portfolioItems li.showing:first").hasClass("currentProject")?$("#portfolioItems li.showing:last").addClass("currentProject").siblings().removeClass("currentProject"):$("#portfolioItems li.currentProject").removeClass("currentProject").prevAll(".showing").eq(0).addClass("currentProject"),a(!0)}function l(){$(".porfolioProjects li:not(.newProject)").addClass("showing");var e=[],t=$(".adminFilters input").val().toLowerCase();$(".adminFilters .tags a").each(function(){$this=$(this),$this.hasClass("active")&&e.push($this.html().toLowerCase())}),t&&$(".porfolioProjects li:not(.newProject).showing").each(function(){$this=$(this);var e=$this.attr("data-title").toLowerCase(),o=$this.attr("data-description").toLowerCase();-1==o.indexOf(t)&&-1==e.indexOf(t)&&$this.removeClass("showing")});for(var o=0;o<e.length;o++)$(".porfolioProjects li:not(.newProject).showing").each(function(){$this=$(this);var t=$this.attr("data-categories").toLowerCase();-1==t.indexOf(e[o])&&$this.removeClass("showing")})}function d(e){if(1==e){var t=$(".currentProject").attr("data-id"),o=$(".currentProject").attr("data-title"),r=$(".currentProject").attr("data-url"),a=$(".currentProject").attr("data-description"),a=$(".currentProject").attr("data-description"),s=$(".currentProject").attr("data-categories").split(",");for($('.project input[name="project"]').val(t),$('.project input[name="title"]').val(o),$('.project input[name="url"]').val(r),$('.project textarea[name="description"]').val(a),$(".projectCategories input").prop("checked",!1),i=0;i<s.length;i++)$('.projectCategories input[value="'+s[i]+'"]').prop("checked",!0);$(".projectImages ul").html(""),$.ajax({type:"POST",url:"../ajax.php",data:{ajax_type:"adminProjectImages",projectID:t},dataType:"json",success:function(e){projectImages=e.images},error:function(e){console.log(e.responseText)}}),setTimeout(function(){for($(".project .projectImages ul").html(""),i=0;i<projectImages.length;i++){var e="";1==projectImages[i].show&&(e="active"),$(".projectWrapper .projectImages ul").append('<li> <div class="controls"><a href="#" class="showToggle '+e+'">Show</a><input type="hidden" name="show[]" value="'+projectImages[i].show+'"><a href="#" class="moveUp"><i>e</i></a><a href="#" class="moveDown"><i>a</i></a><a href="#" class="remove"><i>X</i></a></div> <img src="../images/portfolio/'+projectImages[i].image+'" alt="'+projectImages[i].image+'" /> <input type="hidden" name="images[]" value="'+projectImages[i].image+'"> <input type="hidden" name="imageID[]" value=""> <textarea name="captions[]" placeholder="Caption...">'+projectImages[i].caption+"</textarea></li>")}$(".projectImages").addClass("showing")},400),$(".projectTint").fadeIn(400),$("body").addClass("noScroll"),$(".projectWrapper").addClass("showing"),$(".projectWrapper .delete").show()}else $('.project input[name="project"]').val(""),$('.project input[name="title"]').val(""),$('.project input[name="url"]').val(""),$('.project textarea[name="description"]').val(""),$(".projectCategories input").prop("checked",!1),$(".projectImages ul").html(""),$('.project input[name="title"]').focus(),$(".projectTint").fadeIn(400),$("body").addClass("noScroll"),$(".projectWrapper").addClass("showing"),$(".projectWrapper .delete").hide(),$(".projectWrapper .projectImages").addClass("showing")}function h(e){var t=new FormData;t.append("ajax_type","project_images");for(var o=0;o<e.length;o++)t.append("images[]",e[o]);$(".projectWrapper .uploadImages").addClass("uploaded"),$(".projectWrapper .uploadImages .text").html("Uploading "+e.length+" files"),$.ajax({xhr:function(){var e=new window.XMLHttpRequest;return e.upload.addEventListener("progress",function(e){if(e.lengthComputable){var t=e.loaded/e.total,t=Math.round(100*t);$(".projectWrapper .uploadImages .progress").css({width:t+"%"})}},!1),e},type:"POST",url:"../ajax.php",data:t,dataType:"json",processData:!1,contentType:!1,success:function(e){for($(".projectWrapper .uploadImages").removeClass("uploaded"),$(".projectWrapper .uploadImages .progress").css({width:0}),$(".projectWrapper .uploadImages .text").html("Drag images to add"),o=0;o<e.uploaded.length;o++)$(".projectWrapper .projectImages ul").append('<li> <div class="controls"><a href="#" class="showToggle active">Show</a><input type="hidden" name="show[]" value="1"><a href="#" class="moveUp"><i>e</i></a><a href="#" class="moveDown"><i>a</i></a><a href="#" class="remove"><i>X</i></a></div> <img src="../images/portfolio/'+e.uploaded[o]+'" alt="'+e.uploaded[o]+'" /> <input type="hidden" name="images[]" value="'+e.uploaded[o]+'"> <input type="hidden" name="imageID[]" value=""> <textarea name="captions[]" placeholder="Caption..."></textarea></li>')},error:function(e){console.log(e.responseText)}})}if($("#intro").length){$(window).load(function(){e()});var u=$("#mainNav").offset().top,m=function(){var e=$(window).scrollTop();e>u?($("#mainNav").addClass("sticky"),$(".triggerSearch").addClass("showing"),$("#mainNav").next().css("padding-top",$("#mainNav").height())):($("#mainNav").removeClass("sticky"),$(".triggerSearch").removeClass("showing"),$("#mainNav").next().css("padding-top","0px"))};m(),$("#moreWork").click(function(){$("html, body").animate({scrollTop:$("#portfolio").offset().top},1e3)}),$("#loginBTN").hover(function(){$(this).html("Coming Soon")},function(){$(this).html("Client Login")});var g=$("#mainNav .wrapper").width()/2-$("#mainNav ul").width()/2;$("#mainNav ul").css("right",g),$("#mainNav #navLogo i").css("left",-69);var f=function(){$(window).scrollTop()>=$("#mainNav").offset().top?$("#mainNav").hasClass("animated")||($("#mainNav #navLogo i").animate({left:0},{duration:300,queue:!1}),$("#mainNav ul").animate({right:0},{duration:300,queue:!1}),$("#mainNav").addClass("animated"),$('#mainNav a[rel="Our Work"]').addClass("active")):$("#mainNav").hasClass("animated")&&($("#mainNav #navLogo i").animate({left:-69},{duration:300,queue:!1}),$("#mainNav ul").animate({right:g},{duration:300,queue:!1}),$("#mainNav").removeClass("animated"),$('#mainNav a[rel="Our Work"]').removeClass("active"))};f(),$(window).scroll(function(){f()}),e(),$(window).resize(function(){e()})}if($("#mainNav li a").hover(function(){var e=$(this).attr("rel");$("#mainNav li:first-child").html(e)},function(){$("#mainNav li:first-child").html("&nbsp;")}),$("body").on("click",".triggerSearch",function(){return $(".searcher").hasClass("searching")?o():t(),!1}),$("body").click(function(e){switch($(e.target).attr("class")){case"searcher searching":o();break;case"projectTint":s()}}),$(document).keyup(function(e){switch(e.keyCode){case 27:s(),o();break;case 39:$(".projectWrapper").hasClass("showing")&&c();break;case 37:$(".projectWrapper").hasClass("showing")&&p()}}),$("body").on("click",".searcher .tags li",function(){return o(),!1}),$("body").on("click",".searcher .tags li a",function(){return $(this).toggleClass("active"),r(),!1}),$("body").on("keyup",".searcher input",function(e){return 13==e.keyCode?(o(),!1):void r()}),$("body").on("click","#portfolioItems li",function(){return $this=$(this),$this.addClass("currentProject").siblings().removeClass("currentProject"),n(),!1}),$("body").on("click",".projectWrapper .close, .projectWrapper .cancel",function(){return s(),!1}),$("body").on("click",".projectWrapper .next",function(){return c(),!1}),$("body").on("click",".projectWrapper .prev",function(){return p(),!1}),$("#designers li").each(function(){$("<img>").attr({src:$("img",this).attr("rel")}).appendTo("body").css({display:"none"})}),$("#designers li img").hover(function(){var e=$(this).attr("src");$(this).attr("src",$(this).attr("rel")).attr("rel",e)},function(){var e=$(this).attr("src");$(this).attr("src",$(this).attr("rel")).attr("rel",e)}),$("#testimonials").length&&$("#testimonials ul").bxSlider({mode:"fade",speed:1e3,auto:!0,touchEnabled:!0,adaptiveHeight:!0,mode:"fade",pagerSelector:"#testimonialsPager",nextSelector:"#slider-next",prevSelector:"#slider-prev",nextText:"n",prevText:"r"}),$("#links").length&&($(window).scroll(function(){$("#links").css("top",$(window).scrollTop()+$(window).height()/2+"px")}),$("#links li a").click(function(){var e=$(this).attr("href");return $("html, body").animate({scrollTop:$(e).offset().top-69},1e3),$("#links li a").removeClass("active"),$(this).addClass("active"),"#faq"!=e&&($(e+" .text").fadeOut(500),$(e+" .additional").slideDown(500)),!1})),$("#services").length){$(".text a:not(.button)").click(function(){return $this=$(this),$this.parent().fadeOut(500).siblings(".additional").slideDown(500),!1}),$(".additional a:not(.printemail)").click(function(){return $this=$(this),$("html, body").animate({scrollTop:$($this.parents("li")).offset().top-69},500),$this.parent().slideUp(500).siblings(".text").fadeIn(500),!1});var j=0,v=1,w=1,C=0;$(window).scroll(function(){var e=$(this).scrollTop(),t=Math.floor(e/50);t>j?(j++,3==v?v=1:v++,4==w?w=1:w++):j>t&&(j--,1==v?v=3:v--,1==w?w=4:w--),1==w&&(C=0),2==w&&(C=-5),3==w&&(C=20),4==w&&(C=-5),$("#reserch .image span").css("background","url(images/speaker-"+v+".png) no-repeat"),$("#printing .image span").css("background","url(images/printer-"+w+".png) no-repeat center center"),$("#copywriting .image span").css({"-webkit-transform":"rotate("+C+"deg)","-moz-transform":"rotate("+C+"deg)","-o-transform":"rotate("+C+"deg)",transform:"rotate("+C+"deg)"}),$("#copywriting .image span").animate({"-webkit-transform":"rotate("+C+"deg)","-moz-transform":"rotate("+C+"deg)","-o-transform":"rotate("+C+"deg)",transform:"rotate("+C+"deg)"},100),$(window).width()<468&&($("#reserch .image span").css("background-size","90%"),$("#printing .image span").css("background-size","60%"))})}$(window).scroll(function(){if($("#intro").length&&(m(),$(window).scrollTop()<$("#mainNav").offset().top)){var e=$(document).scrollTop();0>e&&(e=0),$("#logo img").css({"-webkit-transform":"rotate("+-e+"deg)","-moz-transform":"rotate("+-e+"deg)","-o-transform":"rotate("+-e+"deg)","-ms-transform":"rotate("+-e+"deg)",transform:"rotate("+-e+"deg)"}),$("#logo span").css({"border-width":e+"px"})}if($("#services").length){var e=$(window).scrollTop();$("#development .image").css({"background-position-x":-e+"px","background-position-y":e+"px"})}}),$("#contactFrom").length&&$("body").on("submit","#contact form",function(){$('#contact form input[type="submit"]').prop("disabled",!0);var e=$(this).serializeArray();return e[e.length]={name:"ajax_type",value:"contact"},$.ajax({type:"POST",url:"ajax.php",data:e,dataType:"json",success:function(e){e.success&&($('#contact form input[type="submit"]').prop("disabled",!1),$("#contactFrom form").fadeOut(500,function(){$("#contactResponse").html(e.response).fadeIn(500)}))},error:function(e){console.log(e.responseText)}}),!1}),$("body").on("click",".adminFilters .tags a",function(){return $(this).toggleClass("active"),l(),!1}),$("body").on("keyup",".adminFilters input",function(){l()}),$("body").on("click",".porfolioProjects li",function(){return $this=$(this),$this.hasClass("newProject")?void 0:($this.addClass("currentProject").siblings().removeClass("currentProject"),d(!0),!1)}),$("body").on("click",".newProject",function(){return $(".porfolioProjects li").removeClass("currentProject"),d(!1),!1}),$("body").on("click",".projectWrapper .uploadImages",function(){return $this=$(this),$this.hasClass("uploaded")||$("#projectImages").trigger("click"),!1}),$("body").on("change","#projectImages",function(){var e=$("#projectImages")[0];return h(e.files),!1});var y=$(".projectWrapper .uploadImages")[0];y.ondrop=function(e){e.preventDefault(),$(".projectWrapper .uploadImages").removeClass("dragging"),h(e.dataTransfer.files)},y.ondragover=function(){return $(".projectWrapper .uploadImages").addClass("dragging"),!1},y.ondragleave=function(){return $(".projectWrapper .uploadImages").removeClass("dragging"),!1},$("body").on("click",".projectImages .showToggle",function(){return $this=$(this),$this.hasClass("active")?($this.removeClass("active"),$this.siblings('input[name="show[]"]').val("0")):($this.addClass("active"),$this.siblings('input[name="show[]"]').val("1")),!1}),$("body").on("click",".projectImages .remove",function(){return $(this).parents("li").remove(),!1}),$("body").on("click",".projectImages .moveUp",function(){var e=$(this).parents("li");return e.is(":first-child")||e.prev().before(e),!1}),$("body").on("click",".projectImages .moveDown",function(){var e=$(this).parents("li");return e.is(":last-child")||e.next().after(e),!1}),$("body").on("click",".projectWrapper .save",function(){var e=$(this),t=$(".projectWrapper form").serializeArray();return t[t.length]={name:"ajax_type",value:"project"},e.html("Saving..."),$.ajax({type:"POST",url:"../ajax.php",data:t,dataType:"json",success:function(t){t.success?(e.html("Saved!"),$(".projectWrapper .delete").show(),$('.project input[name="project"]').val(t.projectID),setTimeout(function(){e.html("Save")},2e3)):alert("There was an error saving the project")},error:function(e){console.log(e.responseText)}}),!1}),$("body").on("click",".projectWrapper .delete",function(){var e=$(this);e.html("Deleting...");var t=$('.project input[name="project"]').val();return $.ajax({type:"POST",url:"../ajax.php",data:{ajax_type:"deleteProject",projectID:t},dataType:"json",success:function(t){t.success?(e.html("Deleted!"),$('.project input[name="project"]').val(""),setTimeout(function(){e.html("Delete").hide()},2e3)):alert("There was an error deleting the project")},error:function(e){console.log(e.responseText)}}),!1})});
